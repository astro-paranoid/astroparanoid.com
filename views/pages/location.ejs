<!DOCTYPE html>
<html lang="en">
<head>
  <%- include('../layout/head') %>
  <title>Astro-Paranoid</title>
</head>
<body>
  <header>
    <%- include('../layout/header')%>
  </header>

  <main id="location-wrapper">
      <article class="" id="images-container">
        <div>
          <img src="<%= asteroid.img %>" alt="asteroid image" class="scale-image" id="asteroid-scale-image">
        </div>
        <div>
          <img src="/images/needle.png" alt="space needle image" class="scale-image" id="needle-scale-image">
        </div>
        <div>
          <img src="/images/astronaut.png" alt="astronaut image" class="scale-image" id="astronaut-scale-image">
        </div>
      </article>

      <div id="map" style="height: 50vh"></div>

      <section id="asteroid-stats"></section>

      <section class="user-input">
        <form id="rename-form" class="hidden" action="/update/<%= asteroid.id %>/<%= asteroid.name %>" method="post">
          <label for="name">Name:</label>
          <input type="text" name="name" value="" placeholder="<%= asteroid.name %>">
          <input type="submit" value="Submit">
        </form>
        <button id="rename-form-button" type="button">Rename Asteroid</button>
      </section>
  </main>

  <footer>
    <%- include('../layout/footer')%>
  </footer>
  <script>
    var midpoint = (<%= asteroid.diameter_feet_min %> + 5.5 + 605) / 3;
    var asteroidScale = <%= asteroid.diameter_feet_min %> / midpoint;
    var personScale = 5.5 / midpoint;
    var needleScale = 605 / midpoint;

    console.log('midpoint', midpoint);

    var asteroidSize = { min: <%= asteroid.diameter_feet_min / 3.2808 %>, max: <%= asteroid.diameter_feet_max / 3.2808 %> };
  </script>

  <script
    src="https://code.jquery.com/jquery-3.3.1.min.js"
    integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous">
  </script> 
  <script src="../../js/app.js"></script>
  <script async defer src="<%= `https://maps.googleapis.com/maps/api/js?key=${process.env.GOOGLE_MAPS_API}&callback=initMap` %>"></script>
</body>
</html>

